import { defineConfig } from "vite";
import path from "path";
import materias from "./src/config/materias.json";

// Converte para caminhos absolutos
const input = Object.fromEntries(
  Object.entries(materias).map(([name, filePath]) => [
    name,
    path.resolve(__dirname, filePath),
  ])
);

export default defineConfig({
  build: {
    rollupOptions: {
      input,
    },
    outDir: "dist", // Final folder generated by the build
  },
  resolve: {
    alias: {
      "@images": path.resolve(__dirname, "src/assets/images"),
    },
  },
});
